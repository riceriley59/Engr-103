#include <iostream>
#include <cstdlib>
#include <ctime>

using namespace std;

int main(){
	
	bool run = false;
	char init;

	srand(time(NULL));
	int rand_num = (rand() % 100) + 1;
	
	cout << endl << endl << "Welcome to the text survival/adventure game!" << endl << endl << "Enter 's' to continue, and any other key to quit: ";
	cin >> init;
	
	init == 's' ? run = true : cout << endl << endl << "Looks like you want to cancel. Run it again if you didn't mean to quit." << endl << endl;

	while(run){

		char chance_input;
		bool good;		
		bool first_iter = true;		

		cout << endl << endl; 
		cout << "You wake up on a deserted island on the beach, and don't remember anything, the first thing you notice is a \n";  
		cout << "massive forest right off the beach. Do you want to stay on the beach press 'b' or go in the forest press 'f': ";

		do {
			if(first_iter == true){
				cin >> chance_input;
				cout << endl << endl;
			}

			switch(chance_input){
				case 'b':
					if(rand_num < 50 && first_iter == true){
						chance_input = 'f';

						cout << "You decided to stay on the beach, but then a bear came out of nowhere and chased you into the forest.";
					       	cout << endl << endl;
						
						good = false;
						first_iter = false;
					}
					else {
						cout << "You are on the beach either because you decided to or you had no choice, "; 
						cout << endl << endl;
						
						first_iter = false;
						good = true;	
					}

					break;
				case 'f':
					if(rand_num < 50 && first_iter == true){
						chance_input = 'b';
						
						cout << "You walked into the forest and saw a massive bug and decided to run back out to the beach because your a woosy.";
						cout << endl << endl; 
						
						good = false;
						first_iter = false;
					}
					else {
						int food;
						bool good_1;

						cout << "You are now in the forest exploring either because your decided to or had no choice. While your here exploring \n";
						cout << "and you find yourself getting really hungry, you see some cocunuts up on a tree do you decide to 1: go up the \n";
					        cout << "tree and get some cocunuts, or 2: decide to stay on the ground and find food somewhere else? ";
						
						do {
							cin >> food;
							cout << endl << endl;

							switch(food){
								case 1:
									int treeopt;
									bool treegood;
									
									cout << "You decided to to climb the tree, and you almost made it all the way up, when all of a sudden \n";
									cout << "you lose your grip and fall. You may have broken a bone your not sure but you know it's hard to walk now";
									cout << endl << endl;
									cout << "Do you want to 1. try and climb the tree again or 2. give up and go forage for food on the ground? ";

									do {
										cin >> treeopt;
										cout << endl << endl;

										switch(treeopt){
											case 1:
											   	int cocunutopt;
												bool cocunutgood;

										   		cout << "You decide that you really want the cocunut and try to climb the tree again, and this time your succesfull \n";
												cout << "you grab the cocunut and make it back down to the safe ground. Although how are you going to open it now? \n";
												cout << endl << endl;
												cout << "Do you want to 1. try and smash the cocunut on a rock to try and open it or 2. drop it from a cliff: ";
												
												do{
													cin >> cocunutopt;
												       	cout << endl << endl;	

											   		switch(cocunutopt){
														case 1:
															cout << "You decide to smash the cocunut off of a rock, you limp over to the nearest rock and start smashing \n";
															cout << "the cocunut on the rock and it opens up. You eat all the food and feel replenishe.d while on the beach \n";
															cout << "you see a man that approaches you and tells you that you were on a ship that crashed offshore and he's apart \n";
															cout << "the search crew looking for you. He takes you back and you are saved."\
														   	cout << endl << endl;
													     		cout << "Thanks for playing! Also good job on surviving. Play again if you want to take another path. ";
															cout << endl << endl;		
															
															cocunutopt = true;
														   	break;
														case 2:
															cout << "You decide to drop it off a cliff becuase it will be too hard to open by hand which is a smart \n";
															cout << "decision. The only cliff you see is a whiles away from where you are in the forest but you still \n";
															cout << "do it anyways because your hungry and you need food. You make it to the cliff safely and get ready \n";
															cout << "to throw the cocunut but slip while throwing it and fall to your death.";
															cout << endl << endl;
															cout << "Thanks for playing! play again and see if you can survive next time.";
															cout << endl << endl;

															cocunutopt = true;
															break;
														default:
															cout << "Invalid input, enter 1 or 2. Try Again: ";
														   	cout << endl << endl;
														   	cocunutopt = false;
														   	break;
													}
												}while(!cocunutopt);

												treegood = true;
												break;
											case 2:
												int mushroomopt;
												bool mushroomgood;
												
												cout << "You already hurt yourself climbing the tree so you decide to not climb it again and risk getting injured even more. \n";
												cout << "You go forace on the ground and see some mushrooms, and they look really tasty, there are some green ones which look \n";
												cout << "scary and some brown ones that look really good, like shitake mushrooms."
												cout << endl << endl;
												cout << "Do you want to eat the green mushrooms 'g' or the brown mushrooms 'b': ";

												do{
													cin >> mushroomopt
													cout << endl << endl;

											   		switch(mushroomopt){
														case 'b':
															cout << "You go ahead and decide to eat the brown mushrooms because they look a lot better, and then you \n";
															cout << "start to feel funny, and you start to see things. This is when you realize that they were magic \n";
															cout << "mushrooms. You start to see a path and follow it and then realize your ina village, and that you \n";
															cout << "had made it back to civilization, and they tell you that you had been missing from a ship wreck \n";
															cout << "that you were in. You were the only surivor."
															cout << endl << endl;
															cout << "Thanks for playing! Also good job on surviving. Play again if you want to take another path.";
															cout << endl << endl;

														   	mushroomgood = true;
														   	break;
														case 'g':
															cout << "You decide to eat the green ones because you like interesting foods, although right after eating \n";
															cout << "it you start to feel funny, and then you start to throw up, and then you start to realize that they \n";
															cout << "were poisonious mushrooms. Theres not much you can do now you lay on the beach and don't make it.";
															cout << endl << endl;
															cout << "Thanks for playing! Play again and see if you can survive next time.";

														   	mushroomgood = true;
														   	break;
														default:
														   	cout << "Invalid input, enter 'g' or 'b'. Try again:"
															cout << endl << endl;
														   	mushroomgood = false;
														   	break;
													}
												}while(!mushroomgood);
												
												treegood = true;
												break;
											default:
												cout << "Invalid input, enter 1 or 2. Try again: ";
										     		cout << endl << endl;
												treegood = false;
												break;		
										}
									}while(!treegood);

									good_1 = true;
									break;
								case 2:
									char groundopt;
									bool groundgood;

									cout << "You decided to not climb the tree, a safe choice, and you start to forage for food on the \n";
									cout << "ground in bushes and other things such as that. ";
									cout << endl << endl;
									cout << "You find two berries after foraging for food green ones and blue ones. Which one do you want to eat? \n";
									cout << "Press 'g' for green and 'b' for blue: ";
									
									do{
										cin >> groundopt;
										cout << endl << endl;

										switch(groundopt){
											case 'b':
												char searchopt;
												bool searchgood;	

												cout << "You decided to eat the blue berries, and turns out they are just regular old wild blue berries \n";
												cout << "You eat those and feel nourished, now that you're not hungry anymore you try to figure out where \n";
												cout << "you're at and how you got here. You see a big old cliff and think you might be able to get a vantage \n";
												cout << "point and some information about your location. You also see a big pile of rocks and what looks like a \n";
												cout << "A crashed boat.";
												cout << endl << endl;
												cout << "Do you want to 1. go check out the cliff or 2. go check out the wrecked boat near the rocks: ";
												
												do{	
													cin >> searchopt;
													cout >> endl >> endl;

													switch(searchopt){
														case 1:
															cout << "You decide to go check out the cliff so you can try and get a vantage point and see whats goind on. \n";
															cout << "You make it there just fine and take a look over the cliff and see people searching for you and a crashed \n";
															cout << "boat, which all makes sense to you now you survived a shipwreck and people are searching for you. In your \n";
															cout << "excitement at this realization you start to dance next to the cliff when you accidentally slip and fall \n";
															cout << "to your death.";
															cout << endl << endl;
															cout << "Thanks for playing. Play again and see if you can survive next time.";	

														   	searchgood = true;
														   	break;
														
														case 2:
															cout << "You decide to go see the wrecked boat next to the rocks, and when you get there you suspicions are \n";
															cout << "true. It is a wrecked boat and there is stuff spread out everywhere, and in this sight you remember \n";
															cout << "that you were in a shipwreck. At this realization you think your lucky but also stranded. You also \n";
													     		cout << "suspect that people would look for you and this is where they would go first. So you wait. After waiting \n";
															cout << "a while you see rescue people and they come and save you.";
															cout << endl << endl;

															cout << "Thanks for playing. Also good job on surviving. Play again to try a different path";		

															searchgood = true;
															break;
														default:
														   	cout << "Invalid input, enter 1 or 2. Try again: ";
														   	cout << endl << endl;
														   	searchgood = false;
														   	break;
													}
												}while(!searchgood);	

												groundgood = true;
											   	break;

											case 'g':
											   	
												do{
													switch(){
													
													}
												}while();

												groundgood = true;
											   	break;

											default:
												cout << "Invalid input, enter 'b' or 'g'. Try Again: "
												cout << endl << endl;
												groundgood = false;
											   	break;
										}

									}while(!groundgood);

									good_1 = true;
									break;
								default:
									cout << "Invalid input, enter 1 or 2. Try Again: ";
									cout << endl << endl;
									good_1 = false;
									break;
							}		
						}while(!good_1);

						good = true;
						first_iter = false;
					}

					break;
				default:
					cout << "Invalid input, enter either 'b' or 'f'. Try again: " << endl << endl;
					good = false;
					first_iter = true;
					
					break;
			}

		} while(!good);	

		break;
	}	

	return 0;
}
